<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Video Progress</title>

    <!-- Fonts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <!-- CDN de Axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- video JS -->
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
    <!-- Video js -->
    <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
    <!-- CDN de Vue.js 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

</head>

<body>

    <div id="app" class="container mt-3">
        <button class="btn btn-primary" @click="getClients"> listar clientes </button>

        <div>
            {{clients}}
            **************
            {{clients1}}
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Id</th>
                    <th>Nombre de la Zona</th>
                    <th>Url</th>
                  </tr>
                </thead>
                <tbody>
                  <tr v-for="client in clients" :key="client.id">
                    <td>{{ client.id }}</td>
                    <td>{{ client.name }}</td>
                    <td>{{ client.url_portal }}</td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>



    <script>
        const { createApp, ref, onMounted, watch, computed } = Vue


        const app = createApp({
            setup() {
                const apiHost = 'http://192.168.0.102:1905';
                const clients = ref([]);
                const clients1 = ref([
      {"id": 2, "name": "alondono-dev.myzonego.com", "url_portal": "alondono-dev.myzonego.com"},
      {"id": 3, "name": "aguerrero-dev.myzonego.com", "url_portal": "aguerrero-dev.myzonego.com"},
      {"id": 4, "name": "pruebas", "url_portal": "http://educacionpaciente.clinicadelcountry.tv"}
    ]);
                const getClients = async () => {
                    try {
                        const response = await axios.get(`${apiHost}/mzg/clients`);
                        if (response.status !== 200) {
                            console.log('Error obteniendo los clients');
                        } else {
                            // clients.value = response.data;
                            clients.value = clients1.value;

                            console.log(response.data);
                            console.log('Clientes ', clients.value);
                        }
                    } catch (error) {
                        // statusUpload.value = error.message;
                        console.error(error);
                    }
                };

                // onMounted(async () => {
                //     await getAgents();
                //     console.log('Agentes cargados:', agents.value);
                // });
                return{
                    getClients,
                    clients,
                    clients1,

                }
            }
            
        }).mount('#app')
    </script>

    <style>

    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>